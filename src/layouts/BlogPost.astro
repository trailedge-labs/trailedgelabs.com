---
import type { CollectionEntry } from 'astro:content';

import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';

import FormattedDate from '../components/FormattedDate.astro';

type Props = CollectionEntry<'blog'>['data'];

const { title, description, pubDate, updatedDate, heroImage } = Astro.props;
---

<Layout title={`BSW // ${title}`} desc={description} image={'/blog-imgs/' + heroImage}>
  <Header />
  <article>
    <div class="hero-image">
      {heroImage && <img width={1020} height={510} src={'/blog-imgs/' + heroImage} alt="" />}
    </div>
    <div class='prose text-gray-500 dark:text-gray-400'>
      <div class="title">
        <div class="date">
          <FormattedDate date={pubDate} />
          {updatedDate && (
            <div class="last-updated-on">
              Last updated on <FormattedDate date={updatedDate} />
            </div>
          )}
        </div>
        <h1>{title}</h1>
        <hr />
      </div>
      <slot />
    </div>
  </article>
</Layout>
<style>
.hero-image {
  width: 100%;
}
.hero-image img {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  box-shadow: var(--box-shadow);
}
.prose {
  width: 720px;
  max-width: calc(100% - 2em);
  margin: auto;
  padding: 1em;
}
.title {
  margin-bottom: 1em;
  padding: 1em 0;
  text-align: center;
  line-height: 1;
}
.title h1 {
  margin: 0 0 0.5em 0;
}
.date {
  margin-bottom: 0.5em;
  color: rgb(var(--gray));
}
.last-updated-on {
  font-style: italic;
}
</style>
